(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9208:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9178)}])},9178:function(e,t,n){"use strict";n.r(t);var r=n(5893),a=n(185),i=n.n(a),s=n(7294),o=n(2237),u=(n(8239),n(2729)),l=n.n(u);let d=()=>{let[e,t]=(0,s.useState)(4),[n,a]=(0,s.useState)(0),[u,d]=(0,s.useState)(0),[c,m]=(0,s.useState)([]),[f,x]=(0,s.useState)(!1),[w,_]=(0,s.useState)(!1),[h,y]=(0,s.useState)(!1),[g,p]=(0,s.useState)(!1);(0,s.useRef)(new window.Image);let[E,S]=(0,s.useState)(!1),[v,k]=(0,s.useState)(0),[A,M]=(0,s.useState)(new window.Image),[j,C]=(0,s.useState)(new window.Image),[N,L]=(0,s.useState)(0),[b,F]=(0,s.useState)(3),[q,D]=(0,s.useState)([{x:5,y:2},{x:8,y:4}]),[I,R]=(0,s.useState)(-1),[U,B]=(0,s.useState)([[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]]);(0,s.useEffect)(()=>{let e=()=>{k(e=>e-1),requestAnimationFrame(e)},t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}},[]),(0,s.useEffect)(()=>{let e=new window.Image,t=new window.Image;e.src="/images/jett4.png",t.src="/images/tama.png",e.onload=()=>{M(e),C(t)}},[]),(0,s.useEffect)(()=>{let e=e=>{"ArrowUp"===e.code?y(!0):"ArrowDown"===e.code?p(!0):"ArrowLeft"===e.code?x(!0):"ArrowRight"===e.code&&_(!0)},t=e=>{"ArrowUp"===e.code?y(!1):"ArrowDown"===e.code?p(!1):"ArrowLeft"===e.code?x(!1):"ArrowRight"===e.code&&_(!1)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,s.useEffect)(()=>{let e=null,n=()=>{f&&a(e=>Math.max(e-.05,0)),w&&a(e=>Math.min(e+.05,7)),h&&t(e=>Math.max(e-.05,0)),g&&t(e=>Math.min(e+.05,7)),e=requestAnimationFrame(n)};return n(),()=>{null!==e&&cancelAnimationFrame(e)}},[f,w,h,g]);let O=(0,s.useRef)(null);(0,s.useEffect)(()=>{let t=t=>{if("Space"===t.code){let t={x:n,y:e};m(e=>[...e,t]),null===O.current&&(O.current=new(i()).Animation(e=>{void 0!==e&&m(t=>{let n=10*(e.timeDiff/1e3),r=t.map(e=>({...e,x:e.x+n}));return r.filter(e=>e.x<=30)})}),O.current.start())}};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e,n]),(0,s.useEffect)(()=>{let e=()=>{if(0===q.length&&(()=>{let e=[{x:5,y:2},{x:8,y:4}];D(t=>[...t,...e])})(),0!==q.length){let e=new(i()).Animation(e=>{D(t=>{if(void 0===e)return console.log("error"),t;{let n=.1*(e.timeDiff/1e3),r=t.map(e=>({x:e.x+I*n,y:e.y}));return console.log(),r.filter(e=>e.x>=0)}})});e.start()}};return e(),()=>{e()}},[I,u,q.length]);let P=()=>{m(e=>{let t=e.filter(e=>{let t={x:100*e.x+50,y:100*e.y+50,radius:10},n=!1,r=q.filter(e=>{let r={x:100*e.x,y:100*e.y+50,radius:20},a=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)),i=a<t.radius+r.radius;return!i||(n=!0,L(e=>e+.5),console.log(N),!1)});return n?(D(r),null):e});return t.filter(Boolean)});let t={x:100*n,y:100*e,radius:10},r=q.some(e=>{let n={x:100*e.x,y:100*e.y,radius:20},r=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2));return r<t.radius+n.radius});r&&F(e=>e-1)};return(0,s.useEffect)(()=>{P()},[c,q]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:l().lifeContainer,children:(0,r.jsxs)("p",{className:l().life,children:["Life: ",b]})}),(0,r.jsx)("div",{className:l().scoreContainer,children:(0,r.jsxs)("p",{className:l().score,children:["Score: ",N]})}),(0,r.jsx)(o.Hf,{width:1200,height:800,className:l().background,children:(0,r.jsxs)(o.mh,{children:[(0,r.jsx)(o.Ee,{image:A,x:100*n,y:100*e,width:90,height:130}),c.map((e,t)=>(0,r.jsx)(o.Ee,{image:j,x:100*e.x+50,y:100*e.y+50,radius:20,scaleX:.05,scaleY:.05},t)),q.map((e,t)=>(0,r.jsx)(o.Cd,{x:100*e.x,y:100*e.y+50,radius:20,fill:"green"},t))]})})]})};t.default=d},2729:function(e){e.exports={title:"index_title__gEapU",tasks:"index_tasks__T3_J7",deleteBtn:"index_deleteBtn__DU3nM",background:"index_background__ndsbC",scoreContainer:"index_scoreContainer__JjGyu",score:"index_score__i3svP",lifeContainer:"index_lifeContainer__gcMMb",life:"index_life__mZovO"}}},function(e){e.O(0,[237,774,888,179],function(){return e(e.s=9208)}),_N_E=e.O()}]);